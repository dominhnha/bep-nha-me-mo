"use strict";(self.webpackChunkbep_nha_me_mo=self.webpackChunkbep_nha_me_mo||[]).push([[595],{4595:function(e,n,r){r.r(n),r.d(n,{default:function(){return j}});var t=r(2982),a=r(1413),s=r(4165),i=r(5861),c=r(885),l=r(2791),o=r(6473),u=r(9342),d=r(5705),p=(r(1724),r(7190)),h=r(4946),m=r(1613),f=r(1189),x=r(9085),g=r(184),v={Info:{Classify:"",DayProduce:"",Ingerdient:"",NameProduct:"",Price:0,Image:[],PriceDiscount:"",Quantity:0,DescriptionProduct:"",exp:"",mfg:""},Pid:""},P=[{value:"Candy",label:"Candy"},{value:"Pastry",label:"Pastry"},{value:"Chocolate",label:"Chocolate"},{value:"Salty cake",label:"Salty cake"},{value:"Holiday cake",label:"Holiday cake"}],j=function(e){var n=(0,l.useState)([]),r=(0,c.Z)(n,2),j=r[0],_=r[1],C=(0,l.useState)(null),b=(0,c.Z)(C,2),N=b[0],y=b[1],I=(0,l.useState)(v),Z=(0,c.Z)(I,2),k=Z[0],D=Z[1],w=(0,l.useState)(!0),A=(0,c.Z)(w,2),B=A[0],Q=A[1],F=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.iM)();case 2:1==(n=e.sent).success&&_(n.payload);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){F()}),[]),(0,l.useEffect)((function(){if(j.length>0&&N){var e=j.find((function(e){return e.Pid.includes(N)}));D(e)}}),[N]);var V=(0,l.useCallback)((function(e){y(e),Q(!0)}),[N]),O=(0,l.useCallback)((function(){Q(!1)}),[N]),S=(0,l.useCallback)((function(e){if(k.Info.Image.length>1){var n=(0,a.Z)((0,a.Z)({},k),{},{Info:(0,a.Z)((0,a.Z)({},k.Info),{},{Image:k.Info.Image.filter((function(n){return n!==e}))})});D(n)}}),[k]),J=(0,l.useCallback)(function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n){var r,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f.J)(n);case 3:r=e.sent,console.log(r),i=(0,a.Z)((0,a.Z)({},k),{},{Info:(0,a.Z)((0,a.Z)({},k.Info),{},{Image:[].concat((0,t.Z)(k.Info.Image),[r.payload])})}),D(i),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}()),H=(0,l.useCallback)((function(){y(null),D(v)}),[N,k]),E=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),console.log(n,r),e.next=4,(0,u.Ir)(r);case 4:return e.next=6,F();case 6:return e.next=8,H();case 8:x.Am.success("\ud83e\udd84 delete complete ".concat(r),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"});case 9:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),M=(0,l.useCallback)(function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("s",n),q.setFieldValue("NameProduct",n.Info.NameProduct),q.setFieldValue("Pid",n.Pid),q.setFieldValue("Classify",n.Info.Classify),q.setFieldValue("DescriptionProduct",n.Info.DescriptionProduct),q.setFieldValue("DayProduce",n.Info.DayProduce),q.setFieldValue("Ingerdient",n.Info.Ingerdient),q.setFieldValue("Price",n.Info.Price),q.setFieldValue("Quantity",n.Info.Quantity),q.setFieldValue("exp",(0,m.J)(""!=n.Info.exp?n.Info.exp.toDate():"")),q.setFieldValue("mfg",(0,m.J)(""!=n.Info.mfg?n.Info.mfg.toDate():"")),Q(!0);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[k]),q=(0,d.TA)({enableReinitialize:!0,initialValues:{Classify:k.Info.Classify,DescriptionProduct:k.Info.DescriptionProduct,DayProduce:k.Info.DayProduce,Ingerdient:k.Info.Ingerdient,NameProduct:k.Info.NameProduct,Price:k.Info.Price,Quantity:k.Info.Quantity,exp:(0,m.J)(""!=k.Info.exp?k.Info.exp.toDate():""),mfg:(0,m.J)(""!=k.Info.mfg?k.Info.mfg.toDate():""),Pid:k.Pid},onSubmit:function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("value",n),null!=N){e.next=23;break}if(console.log("new product"),0!==k.Info.Image.length){e.next=7;break}return x.Am.error("Please select at least 1 photo !",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),e.abrupt("return");case 7:return e.next=9,(0,u.mn)({NameProduct:n.NameProduct,DescriptionProduct:n.DescriptionProduct,Ingerdient:n.Ingerdient,Price:n.Price,Quantity:n.Quantity,ImageIdProduct:k.Info.Image,exp:n.exp,mfg:n.mfg,Classify:n.Classify});case 9:e.sent,x.Am.success("\ud83e\udd84 add complete ".concat(n.NameProduct),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),H(),q.values.NameProduct="",q.values.DescriptionProduct="",q.values.Ingerdient="",q.values.NameProduct="",q.values.Classify="",q.values.Price=1,q.values.Quantity=1,q.values.exp="",q.values.mfg="",e.next=29;break;case 23:return console.log("updata ui"),e.next=26,(0,u.nM)("".concat(n.Pid),{NameProduct:n.NameProduct,DescriptionProduct:n.DescriptionProduct,Ingerdient:n.Ingerdient,Price:n.Price,Quantity:n.Quantity,ImageIdProduct:k.Info.Image,exp:n.exp,mfg:n.mfg,Classify:n.Classify});case 26:r=e.sent,console.log(r),x.Am.success("\ud83e\udd84 updata complete ".concat(n.NameProduct),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"});case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(0),console.log(e.t0);case 34:return e.prev=34,F(),Q(!0),e.finish(34);case 38:case"end":return e.stop()}}),e,null,[[0,31,34,38]])})));return function(n){return e.apply(this,arguments)}}()});return console.log("dtas",k),(0,g.jsxs)("div",{className:"AddProduct",children:[(0,g.jsx)("div",{className:"Colection AddProduct__list",children:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(o.NZ,{children:(0,g.jsxs)("div",{className:"AddProduct__title",children:[(0,g.jsx)("span",{children:"Colection"}),(0,g.jsx)("i",{className:"bx bx-plus ".concat(null==N?"active":""),onClick:function(e){return H()}})]})}),(0,g.jsx)(o.tr,{children:(0,g.jsx)("div",{className:"Colection__list",children:j&&j.map((function(e){return(0,g.jsxs)("div",{className:"Colection__item ".concat(e.Pid.includes(N)?"active":""),onClick:function(n){return V(e.Pid)},children:[(0,g.jsxs)("div",{className:"Colection__item__warpper",children:[(0,g.jsx)("p",{children:e.Pid}),(0,g.jsx)("h2",{children:e.Info.NameProduct})]}),(0,g.jsx)("div",{className:"Colection__item__remove",onClick:function(n){return E(n,e.Pid)},children:(0,g.jsx)("i",{class:"bx bx-minus"})})]},e.Pid)}))})})]})}),(0,g.jsxs)("div",{className:"AddProduct__From",children:[(0,g.jsx)(o.NZ,{children:(0,g.jsxs)("div",{className:"AddProduct__title",children:[(0,g.jsx)("span",{children:"ID"}),B?(0,g.jsx)("div",{className:"AddProduct__btn",onClick:function(){return O()},children:(0,g.jsx)(p.Z,{children:"Edit"})}):(0,g.jsxs)("div",{className:"AddProduct__warpper__btn",children:[(0,g.jsx)("div",{className:"AddProduct__btn",onClick:function(){return M(k)},children:(0,g.jsx)(p.Z,{children:"Close"})}),(0,g.jsx)("div",{className:"AddProduct__btn",onClick:q.submitForm,children:(0,g.jsx)(p.Z,{children:"Save"})})]})]})}),(0,g.jsx)(o.tr,{children:(0,g.jsxs)("div",{className:"AddProduct__warpper",children:[(0,g.jsxs)("form",{action:"",className:"AddProduct__infomation",children:[(0,g.jsxs)("div",{className:"input-container border--active input-container__center ",children:[(0,g.jsx)("label",{children:"Pid"}),(0,g.jsx)("input",{id:"",name:"Pid",type:"text",placeholder:"Pid....",onChange:q.handleChange,onBlur:q.handleBlur,value:q.values.Pid,required:"false",disabled:!0}),q.touched.Pid&&q.errors.Pid?(0,g.jsx)("p",{className:"error-message",children:q.errors.Pid}):null]}),(0,g.jsxs)("div",{className:"input-container border--active input-container__center",children:[(0,g.jsx)("label",{children:"NameProduct"}),(0,g.jsx)("input",{id:"NameProduct",name:"NameProduct",type:"text",placeholder:"NameProduct",onChange:q.handleChange,onBlur:q.handleBlur,value:q.values.NameProduct,disabled:!!B}),q.touched.NameProduct&&q.errors.NameProduct?(0,g.jsx)("p",{className:"error-message",children:q.errors.NameProduct}):null]}),(0,g.jsxs)("fieldset",{children:[(0,g.jsx)("legend",{children:"Expiry date"}),(0,g.jsxs)("div",{className:"AddProduct__fieldset__warpper",children:[(0,g.jsxs)("div",{className:"input-container border--active",children:[(0,g.jsx)("label",{children:"exp"}),(0,g.jsx)("input",{id:"exp",name:"exp",type:"date",placeholder:"NameProduct",onChange:q.handleChange,onBlur:q.handleBlur,value:q.values.exp,disabled:!!B}),q.touched.exp&&q.errors.exp?(0,g.jsx)("p",{className:"error-message",children:q.errors.exp}):null]}),(0,g.jsxs)("div",{className:"input-container border--active",children:[(0,g.jsx)("label",{children:"mfg"}),(0,g.jsx)("input",{id:"mfg",name:"mfg",type:"date",placeholder:"NameProduct",onChange:q.handleChange,onBlur:q.handleBlur,value:q.values.mfg,disabled:!!B}),q.touched.mfg&&q.errors.mfg?(0,g.jsx)("p",{className:"error-message",children:q.errors.mfg}):null]})]})]}),(0,g.jsxs)("fieldset",{children:[(0,g.jsx)("legend",{children:"Number"}),(0,g.jsxs)("div",{className:"AddProduct__fieldset__warpper",children:[(0,g.jsxs)("div",{className:"input-container border--active input-container__center",children:[(0,g.jsx)("label",{children:"Price"}),(0,g.jsx)("input",{id:"Price",name:"Price",type:"number",placeholder:"Price",onChange:q.handleChange,onBlur:q.handleBlur,value:q.values.Price,disabled:!!B,max:"9999",min:"1"}),q.touched.Price&&q.errors.Price?(0,g.jsx)("p",{className:"error-message",children:q.errors.Price}):null]}),(0,g.jsxs)("div",{className:"input-container border--active input-container__center",children:[(0,g.jsx)("label",{children:"Quantity"}),(0,g.jsx)("input",{id:"Quantity",name:"Quantity",type:"number",placeholder:"Quantity",onChange:q.handleChange,onBlur:q.handleBlur,value:q.values.Quantity,disabled:!!B,max:"9999",min:"1"}),q.touched.Quantity&&q.errors.Quantity?(0,g.jsx)("p",{className:"error-message",children:q.errors.Quantity}):null]})]})]}),(0,g.jsxs)("fieldset",{children:[(0,g.jsx)("legend",{children:"Chart"}),(0,g.jsxs)("div",{className:"input-container input-container__center",children:[(0,g.jsx)("label",{children:" Classify"}),(0,g.jsx)(h.Z,{className:"input",onChange:function(e){return q.setFieldValue("Classify",e.value)},value:q.values.Classify,options:P,placeholder:" Classify",disabled:!!B}),q.touched.Classify&&q.errors.Classify?(0,g.jsx)("p",{className:"error-message active__error",children:q.errors.Classify}):null]}),(0,g.jsxs)("div",{className:"input-container ",children:[(0,g.jsx)("label",{children:" Ingerdient"}),(0,g.jsx)("textarea",{id:"Ingerdient",name:"Ingerdient",type:"text",placeholder:"Ingerdient",onChange:q.handleChange,onBlur:q.handleBlur,value:q.values.Ingerdient,disabled:!!B}),q.touched.Ingerdient&&q.errors.Ingerdient?(0,g.jsx)("p",{className:"error-message",children:q.errors.Ingerdient}):null]}),(0,g.jsxs)("div",{className:"input-container ",children:[(0,g.jsx)("label",{children:"Description"}),(0,g.jsx)("textarea",{id:"DescriptionProduct",name:"DescriptionProduct",className:"xxl",type:"text",placeholder:"DescriptionProduct",onChange:q.handleChange,onBlur:q.handleBlur,value:q.values.DescriptionProduct,disabled:!!B}),q.touched.DescriptionProduct&&q.errors.DescriptionProduct?(0,g.jsx)("p",{className:"error-message",children:q.errors.DescriptionProduct}):null]})]})]}),(0,g.jsxs)("div",{className:"AddProduct__list__img",children:[(0,g.jsx)("ul",{children:k&&k.Info.Image.map((function(e,n){return(0,g.jsxs)("li",{className:"AddProduct__item",children:[(0,g.jsx)("img",{src:e,alt:"IMG"}),0==B&&(0,g.jsx)("div",{className:"AddProduct__item__remove",onClick:function(){return S(e)},children:(0,g.jsx)("i",{class:"bx bxs-minus-circle"})})]},"".concat(n,"__img"))}))}),(0,g.jsxs)("label",{className:"AddProduct__item AddProduct__item__input",htmlFor:"input__image",children:[(0,g.jsx)("i",{class:"bx bxs-add-to-queue"}),(0,g.jsx)("input",{type:"file",name:"input__image",id:"input__image",disabled:!!B,onChange:function(e){return J(e.target.files[0])}})]})]})]})})]})]})}},7190:function(e,n,r){r.d(n,{Z:function(){return a}});r(2791);var t=r(184),a=function(e){return(0,t.jsx)("button",{class:"Button",onClick:e.onClick?function(n){return e.onClick(n)}:null,children:e.children})}},4946:function(e,n,r){r(2791);var t=r(5493),a=r(184);n.Z=function(e){var n=e.onChange,r=e.options,s=e.value,i=e.className,c=e.placeholder;return(0,a.jsx)("div",{className:i,children:(0,a.jsx)(t.ZP,{value:function(e,n){return e?e.find((function(e){return e.value===n})):""}(r,s),placeholder:c,onChange:function(e){n(e)},options:r})})}},1189:function(e,n,r){r.d(n,{J:function(){return l}});var t=r(4165),a=r(5861),s=r(4453),i=r(4261),c=r(5171),l=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",new Promise(function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r,a){var l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{null==n&&a(!1),l=(0,s.iH)(c.tO,"images/".concat(n.name+(0,i.Z)())),console.log("Uploading avatar",l),(0,s.KV)(l,n).then((function(e){(0,s.Jt)(e.ref).then((function(e){r({success:!0,payload:e})}))}))}catch(t){console.log("falseUpload"),console.log(t),a(!1)}case 1:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{success:!1,payload:null});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(n){return e.apply(this,arguments)}}()},1613:function(e,n,r){function t(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}function a(e){return JSON.stringify(e).slice(1,11)}r.d(n,{J:function(){return a},u:function(){return t}})}}]);
//# sourceMappingURL=595.b534f348.chunk.js.map