{"version":3,"file":"static/js/164.8f4868de.chunk.js","mappings":"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","sources":["components/Animation/Sea/Sea.jsx","pages/Cart/Carts.jsx","utils/Format.js"],"sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport \"./Sea.scss\"\r\nconst Sea = props => {\r\n  return (\r\n    <div class=\"sea\">\r\n        <div class=\"circle-wrapper\">\r\n            <div class=\"bubble\"></div>\r\n            <div class=\"submarine-wrapper\">\r\n                <div class=\"submarine-body\">\r\n                    <div class=\"window\"></div>\r\n                    <div class=\"engine\"></div>\r\n                    <div class=\"light\"></div>\r\n                </div>\r\n                <div class=\"helix\"></div>\r\n                <div class=\"hat\">\r\n                <div class=\"leds-wrapper\">\r\n                    <div class=\"periscope\"></div>\r\n                    <div class=\"leds\"></div>\r\n                </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nSea.propTypes = {}\r\n\r\nexport default Sea","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport './Cart.scss'\r\nimport { useContext } from 'react';\r\nimport { CartContext } from '../../contexts/CartContextProvider';\r\nimport { useState } from 'react';\r\nimport Section, { SectionBody, SectionTitle } from '../../components/Section/Section';\r\nimport { useCallback } from 'react';\r\nimport { toast } from \"react-toastify\";\r\nimport { useEffect } from 'react';\r\nimport { PaymentContext } from '../../contexts/PaymentContextProvider';\r\nimport { CART__DECREMENT, CART__INCREMENT, CART__REMOVE, PAYMENT__SET } from '../../reducers/type';\r\nimport Sea from '../../components/Animation/Sea/Sea'\r\nimport { useNavigate } from 'react-router';\r\nimport {formatNumber } from '../../utils/Format'\r\nconst Carts = props => {\r\n  const history = useNavigate();\r\n  const {Cart,Cartdispatch} = useContext(CartContext);\r\n  const { Payment,Paymentdispatch} = useContext(PaymentContext);\r\n  const [ListProduct,SetListProduct] = useState([]);\r\n  const [checked, setChecked] = useState([]);\r\n  const [total, setTotal] = useState(0);\r\n  // set top 0 \r\n  useEffect(()=>{\r\n    window.scrollTo(0,0);\r\n   },[])\r\n  // get data by cart \r\n  useEffect(()=>{\r\n    if(Cart.success == true  && Cart.payload.length > 0 ){\r\n      SetListProduct(Cart.payload)\r\n    }else{\r\n      SetListProduct([])\r\n    }\r\n  },[Cart])\r\n\r\n  // set checked event\r\n const handleCheckboxChange = (e) => {\r\n    let copyArrChecked = [...checked];\r\n    if (e.target.checked) {\r\n      copyArrChecked = [...checked, e.target.value];\r\n    } else {\r\n      copyArrChecked.splice(checked.indexOf(e.target.value), 1);\r\n    }\r\n    setChecked(copyArrChecked);\r\n  };\r\n  // delete product by cart user\r\n  const handleDeleteProductCart = (e,productId) => {\r\n    // code here\r\n    e.preventDefault() \r\n\r\n    try{\r\n      toast.warn(`Xóa thành công ${productId}`, {\r\n        position: \"top-right\",\r\n        autoClose: 2000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n        theme: \"light\",\r\n      });\r\n      Cartdispatch({\r\n        type:CART__REMOVE,\r\n        payload:productId\r\n      })\r\n    }catch(e){\r\n      console.log(e)\r\n    }\r\n  };\r\n  // + 1 quantity of products\r\n  const handleIncrementProductCart = (e,productId) => {\r\n    // code here\r\n    e.preventDefault() \r\n    try{\r\n      Cartdispatch({\r\n        type:CART__INCREMENT,\r\n        payload:productId\r\n      })\r\n      console.log(\"Cart ddddddddd\",Cart)\r\n    }catch(e){\r\n      console.log(e)\r\n    }\r\n  };\r\n  //- 1 quantity of products\r\n  const handleDecrementProductCart = (e,productId) => {\r\n    // code here\r\n    e.preventDefault() \r\n    try{\r\n      Cartdispatch({\r\n        type:CART__DECREMENT,\r\n        payload:productId\r\n      })\r\n    }catch(e){\r\n      console.log(e)\r\n    }\r\n  };\r\n  // set Payment provider \r\n  useEffect(()=>{\r\n    // get Data is here \r\n    try{\r\n      const initPayment = ListProduct.filter((item) => checked.includes(item.Pid))\r\n      let countPayment = 0;\r\n      initPayment.forEach(item=>{\r\n        const count = parseInt(item.Price) * item.Quantity;\r\n        console.log(count)\r\n        countPayment += count;\r\n      })\r\n      setTotal(countPayment);\r\n      Paymentdispatch({\r\n        type:PAYMENT__SET,\r\n        payload:initPayment\r\n      })\r\n    }catch(e){\r\n      console.log(e)\r\n    }\r\n    \r\n  },[checked,ListProduct,Cart])\r\n\r\n  const handlePayment = useCallback(\r\n    (e)=>{\r\n      e.preventDefault();\r\n      if(checked.length <=0){\r\n        toast.error('Chọn sản phẩm trước khi thanh toán nhé !', {\r\n          position: \"top-right\",\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n          theme: \"light\",\r\n          });\r\n          return;\r\n      }else{\r\n        history(\"/Product/Payment\")\r\n      }\r\n      \r\n    },[checked]\r\n  )\r\n  console.log(\"Pay\",Payment)\r\n  console.log(\"Cart\",Cart)\r\n  return(\r\n    <div className=\"Cart\">\r\n      <div className=\"container\">\r\n        <div className=\"Cart__list\">\r\n          <div className=\"Cart__list__warpper\">\r\n          {\r\n            ListProduct.length > 0 \r\n             ? ListProduct.map((item)=>{\r\n                 const total = formatNumber(Number(item.Price)) \r\n                return(\r\n                  <label \r\n                    className=\"Cart__item\"  \r\n                    htmlFor={`${item.Pid}`} \r\n                    key={`${item.Pid}`}\r\n                    \r\n                  >\r\n                    <div className=\"Cart__container \">\r\n                        <div className=\"Cart__checkbox\">\r\n                          <input\r\n                              type=\"checkbox\"\r\n                              id={item.Pid}\r\n                              value={item.Pid}\r\n                              name={item.Pid}\r\n                              onChange={handleCheckboxChange}\r\n                          />\r\n                        </div>\r\n                        <div className=\"Cart__container__sub\">\r\n                          <div className=\"Cart__Image\">\r\n                            <img src={item.Image[0]} alt=\"\" />\r\n                          </div>\r\n                          <div className=\"Cart__warpper\">\r\n                            <p> ID:{item.Pid}</p>\r\n                            <h2>Tên:{item.NameProduct}</h2>\r\n                            <p>Giá: <span>{formatNumber(total)}₫</span></p>\r\n                          </div>\r\n                        </div>\r\n                        \r\n                      </div>\r\n                      <div className=\"Cart__container\">\r\n                        <div className=\"Cart__button\">\r\n                          <div className=\"Cart__button__quantity\">\r\n                            <div className=\"Cart__Decrement\" onClick={(e)=>handleDecrementProductCart(e,item.Pid)}>\r\n                              <i class='bx bx-message-square-minus'></i>\r\n                            </div>\r\n                            <div className=\"Cart__number\">\r\n                              {\r\n                                item.Quantity\r\n                              }\r\n                            </div>\r\n                            <div className=\"Cart__Increment\" onClick={(e)=>handleIncrementProductCart(e,item.Pid)}>\r\n                              <i className='bx bx-message-square-add'></i>\r\n                            </div>\r\n                            \r\n                        </div>\r\n                        <div className=\"Cart__button__delete\" onClick={(e)=>handleDeleteProductCart(e,item.Pid)}>\r\n                          <i class='bx bx-trash-alt'></i>\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                  </label>\r\n                )\r\n             })\r\n             :<div className='Cart__404'>\r\n                <Sea/>\r\n                <h2>Bạn chưa mua chiếc bánh nào ?</h2>\r\n                <p>Cùng quay lại mua sắm ngay</p>\r\n             </div>\r\n          }\r\n          </div>\r\n        \r\n          <div className=\"Cart__payment\">\r\n            <div className=\"Cart__payment__list\">\r\n              <div className=\"Cart__payment__animation\">\r\n                \r\n              </div>\r\n              <div className=\"Cart__payment__warpper\">\r\n                <h2>Tổng Tiền</h2>\r\n                {\r\n                  Payment.success == true \r\n                  ? <span>{\r\n                     formatNumber(total)\r\n                    }₫</span>\r\n                  : <span>0₫</span>\r\n                }\r\n                <a href=\"\" className=\"Cart__payment__button\" onClick={(e)=>handlePayment(e)}>\r\n                    Thanh Toán \r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      \r\n      </div>\r\n          \r\n      </div>\r\n  )\r\n}\r\n\r\nCarts.propTypes = {}\r\n\r\nexport default Carts","export  function formatNumber(num) {\r\n    return num.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,')\r\n}\r\n\r\nexport function formatTimestamptoDate(initdate){\r\n    let date = JSON.stringify(initdate)\r\n    return date.slice(1,11)\r\n}\r\n"],"names":["props","class","history","useNavigate","useContext","CartContext","Cart","Cartdispatch","PaymentContext","Payment","Paymentdispatch","useState","ListProduct","SetListProduct","checked","setChecked","total","setTotal","useEffect","window","scrollTo","success","payload","length","handleCheckboxChange","e","copyArrChecked","target","value","splice","indexOf","initPayment","filter","item","includes","Pid","countPayment","forEach","count","parseInt","Price","Quantity","console","log","type","PAYMENT__SET","handlePayment","useCallback","preventDefault","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","className","map","formatNumber","Number","htmlFor","id","name","onChange","src","Image","alt","NameProduct","onClick","productId","CART__DECREMENT","handleDecrementProductCart","CART__INCREMENT","handleIncrementProductCart","CART__REMOVE","handleDeleteProductCart","Sea","href","num","toString","replace","formatTimestamptoDate","initdate","JSON","stringify","slice"],"sourceRoot":""}