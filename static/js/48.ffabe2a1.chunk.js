"use strict";(self.webpackChunkbep_nha_me_mo=self.webpackChunkbep_nha_me_mo||[]).push([[48],{2048:function(e,r,n){n.r(r),n.d(r,{default:function(){return h}});var t=n(4165),a=n(5861),s=(n(2791),n(5705)),u=n(1724),c=n(7689),i=n(1087),o=n(79),l=n(6235),d=n(184),h=function(e){var r=(0,c.s0)(),n=(0,s.TA)({initialValues:{firstname:"",lastname:"",emailOrPhoneNumber:"",password:"",reEnterPassword:""},validationSchema:u.Ry({firstname:u.Z_().max(30,"H\u1ecd \u0111\u1ec7m b\u1ea1n nh\u1eadp kh\xf4ng v\u01b0\u1ee3t qu\xe1 30 k\xfd t\u1ef1").required("H\u1ecd \u0111\u1ec7m kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng"),lastname:u.Z_().max(30,"T\xean b\u1ea1n nh\u1eadp kh\xf4ng v\u01b0\u1ee3t qu\xe1 30 k\xfd t\u1ef1").required("T\xean kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng"),emailOrPhoneNumber:u.Z_().max(254,"Email ho\u1eb7c s\u1ed1 \u0111i\u1ec7n tho\u1ea1i b\u1ea1n nh\u1eadp ph\u1ea3i \xedt h\u01a1n 254 k\xed t\u1ef1").required("Email / S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng"),password:u.Z_().required("M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng"),reEnterPassword:u.Z_().required("M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng")}),onSubmit:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var a,s,u,c,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=n.emailOrPhoneNumber,s=n.firstname,u=n.lastname,c=n.password,e.next=4,(0,o.Sb)({email:a,password:c});case 4:if(i=e.sent,console.log(i),!i.success){e.next=12;break}return console.log(i.payload),e.next=10,(0,l.eJ)(i.payload,{Email:a,firstname:s,lastname:u});case 10:e.sent.success?r("/Account/SignIn"):r("/404");case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),r("/404");case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(r){return e.apply(this,arguments)}}()});return(0,d.jsx)("div",{className:"center",children:(0,d.jsxs)("form",{className:"sign-in-form",onSubmit:n.handleSubmit,children:[(0,d.jsx)("h1",{children:"\u0110\u0103ng K\xfd"}),(0,d.jsxs)("div",{class:"tabs",children:[(0,d.jsx)(i.rU,{to:"/Account/SignIn",className:"tab-item",children:"\u0110\u0103ng nh\u1eadp"}),(0,d.jsx)("div",{class:"tab-item active",children:"\u0110\u0103ng k\xfd"})]}),(0,d.jsxs)("div",{className:"input-container",children:[(0,d.jsx)("input",{id:"firstname",name:"firstname",type:"text",onChange:n.handleChange,onBlur:n.handleBlur,value:n.values.firstname,required:!0}),(0,d.jsx)("label",{className:"border-null",children:"H\u1ecd \u0110\u1ec7m"}),n.touched.firstname&&n.errors.firstname?(0,d.jsx)("p",{className:"error-message active",children:n.errors.firstname}):null]}),(0,d.jsxs)("div",{className:"input-container",children:[(0,d.jsx)("input",{id:"lastname",name:"lastname",type:"text",onChange:n.handleChange,onBlur:n.handleBlur,value:n.values.lastname,required:!0}),(0,d.jsx)("label",{className:"border-null",children:"T\xean"}),n.touched.lastname&&n.errors.lastname?(0,d.jsx)("p",{className:"error-message active",children:n.errors.lastname}):null]}),(0,d.jsxs)("div",{className:"input-container",children:[(0,d.jsx)("input",{id:"emailOrPhoneNumber",name:"emailOrPhoneNumber",type:"text",onChange:n.handleChange,onBlur:n.handleBlur,value:n.values.emailOrPhoneNumber,required:!0}),(0,d.jsx)("label",{className:"border-null",children:"Email / S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}),n.touched.emailOrPhoneNumber&&n.errors.emailOrPhoneNumber?(0,d.jsx)("p",{className:"error-message active",children:n.errors.emailOrPhoneNumber}):null]}),(0,d.jsxs)("div",{className:"input-container",children:[(0,d.jsx)("input",{id:"password",name:"password",type:"password",onChange:n.handleChange,onBlur:n.handleBlur,value:n.values.password,required:!0}),(0,d.jsx)("label",{className:"border-null",children:"M\u1eadt Kh\u1ea9u"}),n.touched.password&&n.errors.password?(0,d.jsx)("p",{className:"error-message active",children:n.errors.password}):null]}),(0,d.jsxs)("div",{className:"input-container",children:[(0,d.jsx)("input",{id:"reEnterPassword",name:"reEnterPassword",type:"password",onChange:n.handleChange,onBlur:n.handleBlur,value:n.values.reEnterPassword,required:!0}),(0,d.jsx)("label",{className:"border-null",children:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u"}),n.touched.reEnterPassword&&n.errors.reEnterPassword?(0,d.jsx)("p",{className:"error-message active",children:n.errors.reEnterPassword}):null]}),(0,d.jsx)("button",{type:"submit",children:"\u0110\u0103ng K\xfd"}),(0,d.jsx)("div",{className:"forget-password",children:(0,d.jsx)("a",{href:"#",children:"B\u1ea1n qu\xean m\u1eadt kh\u1ea9u?"})})]})})}},79:function(e,r,n){n.d(r,{Sb:function(){return c},lv:function(){return o},vs:function(){return i}});var t=n(4165),a=n(5861),s=n(4116),u=n(5171),c=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){var n,a,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.email,a=r.password,e.next=4,(0,s.Xb)(u.I8,n,a).then((function(e){return{success:!0,payload:e.user.uid}})).catch((function(e){return{success:!1,payload:e}}));case 4:return c=e.sent,e.abrupt("return",c);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1,payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),i=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){var n,a,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.email,a=r.password,e.next=3,(0,s.e5)(u.I8,n,a).then((function(e){return{success:!0,payload:e.user}})).catch((function(e){return{success:!1,payload:e}}));case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),o=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,s.w7)(u.I8).then((function(){return{success:!0,payload:"Sign-out successful"}})).catch((function(e){return{success:!1,payload:e}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},6235:function(e,r,n){n.d(r,{Cw:function(){return m},eJ:function(){return l},Nn:function(){return d},Rl:function(){return h}});var t=n(4165),a=n(5861),s=n(5171),u=n(6724),c=(n(5854),n(408),n(9342)),i=(n(6660),function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r,n,a){var c,i,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=(0,u.hJ)(s.db,"PurchaseHistory"),e.next=3,(0,u.ET)(c,a);case 3:return i=e.sent,e.next=6,(0,u.JU)(s.db,"PurchaseHistory",i.id);case 6:return o=e.sent,e.next=9,(0,u.r7)(o,{Uid:r});case 9:case"end":return e.stop()}}),e)})));return function(r,n,t){return e.apply(this,arguments)}}()),o="User",l=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r,n){var a,c,i,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.Email,c=n.firstname,i=n.lastname,l={Email:a,Address:"",Number:"",ImgUser:"https://mir-s3-cdn-cf.behance.net/project_modules/max_1200/36015793570193.5e6c1151cb04b.png",FullName:"".concat(c," ").concat(i),Birthdate:"",Role:"user"},e.next=4,(0,u.pl)((0,u.JU)(s.db,o,r),l).then((function(e){return{success:!0,payload:null}})).catch((function(e){return{success:!1,payload:e}}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){var n,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,u.JU)(s.db,o,r),e.next=3,(0,u.QT)(n);case 3:if(!(a=e.sent).exists()){e.next=8;break}return e.abrupt("return",{success:!0,payload:a.data()});case 8:return e.abrupt("return",{success:!1,payload:"No such document!"});case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),h=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r,n){var a,c,i,l,d,h,m;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.Email,c=n.Address,i=n.Number,l=n.ImgUser,d=n.FullName,h=n.Birthdate,console.log(a),m=(0,u.JU)(s.db,o,r),e.next=5,(0,u.r7)(m,{Email:a,Address:c,Number:i,ImgUser:l,FullName:d,Birthdate:u.EK.fromDate(new Date(h)),Role:"User"}).then((function(e){return{success:!0,payload:n}})).catch((function(e){return{success:!1,payload:e}}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),m=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r,n,a){var l,d,h,m,p,f,x,b,v,g,w,y,N,k,Z,j,P,E,q,U,B=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=B.length>3&&void 0!==B[3]?B[3]:[{pid:"",quantity:""}],d=a.emailOrPhone,h=a.Address,m=a.Payments,p=a.Total,f=a.PriceDiscount,x=a.FullName,b={Item:l,Discount:f,Total:p,DayPurchased:(0,u.Bt)(),Address:h,Payments:m,FullName:x,Email:d},!0!==n){e.next=26;break}return v=(0,u.JU)(s.db,o,r),g=(0,u.hJ)(v,"PurchaseHistoryForUser"),e.next=8,(0,u.ET)(g,b);case 8:w=e.sent,y=0;case 10:if(!(y<l.length)){e.next=22;break}return N=(0,u.JU)(s.db,"Product",l[y].pid),e.next=14,(0,c.CR)(l[y].pid);case 14:return k=e.sent,e.next=17,(0,u.r7)(N,{Quantity:(k-l[y].quantity).toString()});case 17:return e.next=19,(0,c.cF)(l[y].pid,l[y].quantity);case 19:y++,e.next=10;break;case 22:return e.next=24,i(r,w.id,b);case 24:e.next=48;break;case 26:return Z=(0,u.hJ)(s.db,"PurchaseHistory"),e.next=29,(0,u.ET)(Z,b);case 29:return j=e.sent,e.next=32,(0,u.JU)(s.db,"PurchaseHistory",j.id);case 32:P=e.sent,E=0;case 34:if(!(E<l.length)){e.next=46;break}return q=(0,u.JU)(s.db,"Product",l[E].pid),e.next=38,(0,c.CR)(l[E].pid);case 38:return U=e.sent,e.next=41,(0,u.r7)(q,{Quantity:(U-l[E].quantity).toString()});case 41:return e.next=43,(0,c.cF)(l[E].pid,l[E].quantity);case 43:E++,e.next=34;break;case 46:return e.next=48,(0,u.r7)(P,{Uid:r});case 48:case"end":return e.stop()}}),e)})));return function(r,n,t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=48.ffabe2a1.chunk.js.map